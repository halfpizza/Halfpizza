/*!
 *  build: admin-pro 
 *  copyright: chuzhixin 1204505056@qq.com 
 *  time: 2021-11-7 15:40:52
 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-70410665"],{"019d":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABiklEQVQ4jXXTTYiIYRAH8N/62sQmlqJwUEQ5iD1bFxcuFCXFinzFQeFkbVs4bG2kSC44COXgxAVFKUUOQlFOPoqIRNnY0GhePT29pt56n5n//Gee+c/TsbCrT2Wd2IY16EEHnuAaLuBzCR9TJa/DCE5jGZ7iMebjOD5hx/8IBnEVt7EY3ViOFZiFBRk/i5NN0tjpnUtku2cwjE34UBBPxGhWD4KvGMBHPIwOJuT97uNgkbgf7/AK5wp/XOU6TmHaOGzPwNoCtDu72YrXuInv2FNgf+BAEGzOlt8XBJNwBefz/BO9RTzOz9EXBDGEu5Uaw8X/EYzHrgrzIIrHDH6l1m12CP1YiXtVfLSR8VnK1mZzU7JbLbHo/EsQXMZMTGkBfaskLW0pLsYqT05tb2B1BRrJ6U+t/DHcLZgdHUSVnViFfRWwCzMq34ZMPoa3zSY+SuDhXNk7WTkGHF9DdgJDuIS94QwZGwvHywRtzBcY328syjuHHc1Cf63tOc/JjVuPeel7UzykF/+Q+AOiiVeaZklyGQAAAABJRU5ErkJggg=="},"259e":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-col",{staticClass:"heads",attrs:{span:24}},[r("h1",[e._v(e._s(e.translateTitle("为PIZZA店铺做推广"))+"：")]),r("div",{staticClass:"item"},[r("div",{staticClass:"left"},[r("div",{staticClass:"qr"},[r("p",[r("vue-qr",{attrs:{text:e.userAddress}})],1),r("p",[e._v(e._s(e.translateTitle("我的广告二维码")))])])]),r("div",{staticClass:"right"},[r("div",{staticClass:"upper"},[r("div",{staticClass:"ad"},[r("p",[r("strong",[e._v(e._s(e.translateTitle("我的广告链接"))+" ：")]),r("span",[e._v(" "+e._s(e.userAddress)+" ")])]),r("p",[r("a",{attrs:{id:"userAddress","data-clipboard-text":e.userAddress,href:"javascript:void(0)"},on:{click:function(t){return e.copyActiveCode()}}},[r("el-tag",[e._v(e._s(e.translateTitle("复制链接")))])],1)])])]),r("div",{staticClass:"lower"},[r("p",[r("strong",[e._v(" "+e._s(e.translateTitle("我的广告收入"))+" "),r("el-tooltip",{attrs:{content:e.translateTitle("inquiry"),effect:"dark",placement:"right"}},[r("img",{attrs:{src:e.inquiry}})]),e._v(" ： ")],1),r("span",[e._v(" "+e._s(e.referprie)+" "),r("img",{attrs:{src:e.piza}})])]),r("p",[r("el-button",{attrs:{round:""},on:{click:e.withdraw}},[r("img",{attrs:{src:e.piza}}),e._v(" "+e._s(e.translateTitle("收获piza"))+" ")])],1)])])])])},a=[],s=r("5530"),i=r("79fa"),c=r("b311"),u=r.n(c),o=r("2f62"),d=r("c030"),l={props:{userAddress:{type:String,default:function(){return""}},referprie:{type:String,default:function(){return""}},address:{type:String,default:function(){return""}}},data:function(){return{piza:r("ef1a"),inquiry:r("019d")}},computed:Object(s["a"])({},Object(o["c"])({metamask:"settings/metamask",chainID:"connect/chainID"})),methods:{translateTitle:i["translateTitle"],copyActiveCode:function(){var e=this,t=new u.a("#userAddress");t.on("success",(function(){e.$message({type:"success",message:"复制成功"}),t.destroy()})),t.on("error",(function(){e.$message({type:"waning",message:"该浏览器不支持自动复制"}),t.destroy()}))},withdraw:function(){var e=this;if(!this.address)return this.$message.warning(this.translateTitle("mustConnectWallet")),!1;if(this.chainID!==this.runChainID)return this.$message.warning(this.translateTitle("changeBsc")),!1;if(this.referprie>0){var t=this.$baseLoading(1,"pizza transaction pending confirmation..."),r=new d["a"].providers.Web3Provider(window.ethereum),n=r.getSigner(),a=new d["a"].Contract(this.metamask.contractAddress,this.metamask.contractAbi,r);a.connect(n).withdrawRefer().then((function(){t.close(),e.$message.success("withdraw success")})).catch((function(r){t.close();var n="withdraw fail";r.message&&(n+=r.message),e.$message.error(n)}))}else this.$message.warning("refer balance is 0")}}},f=l,p=(r("cdc1"),r("2877")),h=Object(p["a"])(f,n,a,!1,null,"23dd1d81",null);t["default"]=h.exports},7998:function(e,t,r){"use strict";r.r(t),r.d(t,"getList",(function(){return a})),r.d(t,"getList1",(function(){return s})),r.d(t,"getTotal",(function(){return i})),r.d(t,"doAdd",(function(){return c})),r.d(t,"doVoteAdd",(function(){return u})),r.d(t,"doUpdata",(function(){return o})),r.d(t,"getSum",(function(){return d})),r.d(t,"getPrice",(function(){return l}));var n=r("b775");function a(e){return Object(n["default"])({url:"/list.php",method:"post",data:e})}function s(e){return Object(n["default"])({url:"/list1.php",method:"post",data:e})}function i(e){return Object(n["default"])({url:"/total.php",method:"post",data:e})}function c(e){return Object(n["default"])({url:"/add.php",method:"post",data:e})}function u(e){return Object(n["default"])({url:"/voteinfo.php",method:"post",data:e})}function o(e){return Object(n["default"])({url:"/updata.php",method:"post",data:e})}function d(e){return Object(n["default"])({url:"/sum.php",method:"post",data:e})}function l(){return Object(n["default"])({baseURL:"https://halfpizza.info:5000/",url:"/",method:"get"})}},"83d4":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"ad-container"},[r("el-row",{attrs:{gutter:10}},[r("heads",{attrs:{address:e.userAddress,referprie:e.referPriceValue,"user-address":e.refAddress}}),r("el-col",{staticClass:"col1"},[r("div",{staticClass:"nlist"},[r("h1",[e._v("Notice：")]),r("ul",e._l(e.lists,(function(t,n){return r("li",{key:n,on:{click:function(r){return e.noticeClick(t)}}},[r("a",{attrs:{href:"javascript:void(0)"}},[e._v(e._s(t.title))])])})),0)])]),r("el-col",{staticClass:"col2"},[r("div",{staticClass:"ndetail"},[r("h1",[e._v(e._s(e.ndetail.title))]),r("p",[e._v(e._s(e.ndetail.content))])])])],1)],1)},a=[],s=r("1da1"),i=r("5530"),c=(r("d3b7"),r("96cf"),r("259e")),u=r("2f62"),o=r("c030"),d=r("7998"),l=window.location.origin,f={name:"Ad",components:{heads:c["default"]},data:function(){return{referPriceValue:"0",lists:[],pagesize:8,pageno:1,ndetail:{title:"",content:""}}},computed:Object(i["a"])(Object(i["a"])({},Object(u["c"])({metamask:"settings/metamask",userAddress:"connect/address",chainID:"connect/chainID"})),{},{refAddress:function(){return this.userAddress?l+"/?ref="+this.userAddress:l}}),watch:{chainID:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=String,t.next=3,e.referPrice();case 3:t.t1=t.sent,e.referPriceValue=(0,t.t0)(t.t1);case 5:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.$baseLoading(3),t.t0=String,t.next=4,e.referPrice();case 4:return t.t1=t.sent,e.referPriceValue=(0,t.t0)(t.t1),t.next=8,e.getList();case 8:e.ndetail.title=e.lists[0].title,e.ndetail.content=e.lists[0].content,r.close();case 11:case"end":return t.stop()}}),t)})))()},methods:{referPrice:function(){var e=this;return new Promise((function(t){if(e.chainID!==e.runChainID||!e.userAddress)return t(0),!1;var r=new o["a"].providers.Web3Provider(window.ethereum),n=new o["a"].Contract(e.metamask.contractAddress,e.metamask.contractAbi,r);n.getreferprie(e.userAddress).then((function(e){t(e)})).catch((function(){t(0)}))}))},noticeClick:function(e){this.ndetail=e},getList:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,n,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=(e.pageno-1)*e.pagesize,n="where 1=1 ",t.next=4,Object(d["getList1"])({tab_name:"notice",cont:n+" ORDER BY addTime DESC limit "+r+","+e.pagesize,cont2:n});case 4:if(a=t.sent,s=a.date,s){t.next=9;break}return e.$message.error("An exception occurs on the backend. Contact the webmaster！"),t.abrupt("return",!1);case 9:e.lists=s;case 10:case"end":return t.stop()}}),t)})))()}}},p=f,h=(r("9a0d"),r("2877")),m=Object(h["a"])(p,n,a,!1,null,"05f75158",null);t["default"]=m.exports},"9a0d":function(e,t,r){"use strict";r("9eda")},"9eda":function(e,t,r){},b775:function(e,t,r){"use strict";r.r(t);var n,a=r("1da1"),s=r("2909"),i=(r("96cf"),r("99af"),r("caad"),r("2532"),r("d3b7"),r("a026")),c=r("bc3a"),u=r.n(c),o=r("f121"),d=r("4360"),l=r("4328"),f=r.n(l),p=r("a18c"),h=r("61f7"),m=r("0a48"),g=Object(h["isArray"])(o["successCode"])?Object(s["a"])(o["successCode"]):[o["successCode"]].concat(),b={200:"服务器成功返回请求数据",201:"新建或修改数据成功",202:"一个请求已经进入后台排队(异步任务)",204:"删除数据成功",400:"发出信息有误",401:"用户没有权限(令牌失效、用户名、密码错误、登录过期)",402:"令牌过期",403:"用户得到授权，但是访问是被禁止的",404:"访问资源不存在",406:"请求格式不可得",410:"请求资源被永久删除，且不会被看到",500:"服务器发生错误",502:"网关错误",503:"服务不可用，服务器暂时过载或维护",504:"网关超时"},v=function(e){return e.data&&"application/x-www-form-urlencoded;charset=UTF-8"===e.headers["Content-Type"]&&(e.data=f.a.stringify(e.data)),o["debounce"].some((function(t){return e.url.includes(t)}))&&(n=i["default"].prototype.$baseLoading()),e},w=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var r,a,s,c,u,l,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=t.config,a=t.data,s=t.status,c=t.statusText,n&&n.close(),u=a&&a[o["statusName"]]?a[o["statusName"]]:s,g.indexOf(a[o["statusName"]])+1&&(u=200),e.t0=u,e.next=200===e.t0?7:403===e.t0?8:10;break;case 7:return e.abrupt("return",a);case 8:return p["default"].push({path:"/403"}).then((function(){})),e.abrupt("break",10);case 10:return l="".concat(r.url," 后端接口 ").concat(u," 异常：").concat(a&&a[o["messageName"]]?a[o["messageName"]]:b[u]?b[u]:c),i["default"].prototype.$baseMessage(l,"error","vab-hey-message-error"),f=new Error(l),Object(m["checkNeed"])()&&d["default"].dispatch("errorLog/addErrorLog",{err:f,url:r.url}).then((function(){})),e.abrupt("return",Promise.reject(f));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=u.a.create({baseURL:o["baseURL"],timeout:o["requestTimeout"],headers:{"Content-Type":o["contentType"]}});A.interceptors.request.use(v,(function(e){return Promise.reject(e)})),A.interceptors.response.use((function(e){return w(e)}),(function(e){var t=e.response;return void 0===t?(i["default"].prototype.$baseMessage("未可知错误，大部分是由于后端不支持跨域CORS或无效配置引起","error","vab-hey-message-error"),{}):w(t)})),t["default"]=A},bca3:function(e,t,r){},cdc1:function(e,t,r){"use strict";r("bca3")},ef1a:function(e,t,r){e.exports=r.p+"static/img/piza.ad7091fb.png"}}]);