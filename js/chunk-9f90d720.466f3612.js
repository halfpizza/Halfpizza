/*!
 *  build: admin-pro 
 *  copyright: chuzhixin 1204505056@qq.com 
 *  time: 2021-11-7 15:40:52
 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9f90d720"],{"72b7":function(e,t,a){e.exports={"menu-color":"rgba(255,255,255,.95)","menu-color-active":"rgba(255,255,255,.95)","menu-background":"#282c34","column-second-menu-background":"#fff"}},"90f2":function(e,t,a){"use strict";a("72b7")},c607:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modify_body"},[a("div",{staticClass:"modify_container"},[a("div",{staticClass:"modify_title"},[e._v(e._s(e.translateTitle("修改资料")))]),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{lg:12,md:12}},[a("div",{staticClass:"modify_row"},[a("p",{staticClass:"modify_row_txt"},[e._v(e._s(e.translateTitle("显示名称")))]),a("el-input",{staticClass:"modify_row_inp",attrs:{maxLength:"12",size:"small",placeholder:e.translateTitle("请输入您的显示名称")},model:{value:e.user_name,callback:function(t){e.user_name=t},expression:"user_name"}})],1),a("div",{staticClass:"modify_row"},[a("p",{staticClass:"modify_row_txt"},[e._v(e._s(e.translateTitle("联系方式")))]),a("el-input",{staticClass:"modify_row_inp",attrs:{size:"small",placeholder:e.translateTitle("请输入联系方式")},model:{value:e.contact_link,callback:function(t){e.contact_link=t},expression:"contact_link"}})],1)]),a("el-col",{attrs:{lg:12,md:12}},[a("label",{staticClass:"modify_head"},[e.prevPath?a("el-image",{staticClass:"modify_head_main",attrs:{src:e.prevPath}}):e._e(),a("input",{attrs:{type:"file"},on:{change:e.selectFile}})],1),a("p",{staticClass:"modify_head_txt"},[e._v(e._s(e.translateTitle("修改您的头像")))]),a("p",{staticClass:"modify_head_txt"},[e._v(e._s(e.translateTitle("尺寸建议")))])])],1),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{lg:12,md:12}},[a("div",{staticClass:"modify_row"},[a("p",{staticClass:"modify_row_txt"},[e._v(e._s(e.translateTitle("邮箱")))]),a("el-input",{staticClass:"modify_row_inp",attrs:{maxLength:"30",size:"small",placeholder:e.translateTitle("请输入您的邮箱")},model:{value:e.mail,callback:function(t){e.mail=t},expression:"mail"}})],1),a("div",{staticClass:"modify_row"},[a("p",{staticClass:"modify_row_txt"},[e._v(e._s(e.translateTitle("描述")))]),a("el-input",{staticClass:"modify_row_inp",attrs:{size:"small",placeholder:e.translateTitle("用几句话描述自己")},model:{value:e.describe,callback:function(t){e.describe=t},expression:"describe"}})],1),a("div",{staticClass:"modify_save_btn",on:{click:e.saveData}},[e._v(" "+e._s(e.translateTitle("保存资料"))+" ")])])],1)],1)])},i=[],n=a("1da1"),r=a("5530"),l=(a("ac1f"),a("1276"),a("b0c0"),a("a15b"),a("96cf"),a("79fa")),c=a("2f62"),o={name:"NftUpload",components:{},data:function(){return{user_name:"",contact_link:"",mail:"",describe:"",prevPath:"",file:null}},computed:Object(r["a"])({},Object(c["c"])({address:"connect/address",userInfo:"connect/userInfo"})),watch:{address:function(e){e||this.$router.push("/nft/index")}},mounted:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.address?e.getUserInfo():e.$router.push("/nft/index");case 1:case"end":return t.stop()}}),t)})))()},methods:Object(r["a"])(Object(r["a"])({},Object(c["d"])({setUserInfo:"connect/setUserInfo"})),{},{translateTitle:l["translateTitle"],getUserInfo:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$userInfo();case 2:a=t.sent,a&&(e.user_name=a.user_name||"",e.contact_link=a.contact_link||"",e.mail=a.mail||"",e.describe=a.describe||"",e.prevPath=a.head||"");case 4:case"end":return t.stop()}}),t)})))()},selectFile:function(e){var t=e.target.files,a=this;if(t&&t.length){var s=["png","gif","jpg","jpeg"],i=(t[0].name||"").split(".").pop();if(i=String(i||"").toLowerCase(),-1===s.indexOf(i))return a.$message.warning("file type must be "+s.join("、")),!1;var n=t[0],r=2097152;if(n.size>r)return a.$message.warning("the uploaded file must be less than 2m"),!1;a.file=n;var l=new FileReader;l.onload=function(){a.prevPath=l.result},l.readAsDataURL(n)}},saveData:function(){var e=this;if(!this.address)return this.$message.warning(this.translateTitle("mustConnectWallet")),!1;if(!this.user_name)return this.$message.warning(this.translateTitle("请输入您的显示名称")),!1;if(!this.contact_link)return this.$message.warning(this.translateTitle("请输入联系方式")),!1;if(!this.mail)return this.$message.warning(this.translateTitle("请输入您的邮箱")),!1;if(!/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/.test(this.mail))return this.$message.warning(this.translateTitle("请输入正确的邮箱")),!1;if(!this.describe)return this.$message.warning(this.translateTitle("用几句话描述自己")),!1;var t=this.$baseLoading(3,"user data saving"),a=new FormData;a.append("user_name",this.user_name),a.append("contact_link",this.contact_link),a.append("mail",this.mail),a.append("describe",this.describe),this.file&&a.append("file",this.file),this.$ajax({url:"modifyInfo",method:"post",data:a}).then((function(a){t.close(),200===a.code?(e.getUserInfo(),e.$message.success("user data save success")):e.$message.error(a.msg||"user data saved error")})).catch((function(a){t.close(),e.$message.error("user data saved error")}))}})},d=o,u=(a("90f2"),a("2877")),m=Object(u["a"])(d,s,i,!1,null,null,null);t["default"]=m.exports}}]);