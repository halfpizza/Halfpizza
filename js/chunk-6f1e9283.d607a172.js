/*!
 *  build: admin-pro 
 *  copyright: chuzhixin 1204505056@qq.com 
 *  time: 2021-11-7 15:40:52
 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6f1e9283"],{"03a7":function(t,e,r){},"11aa":function(t,e,r){"use strict";r("3119")},"18db":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-col",{staticClass:"heads",attrs:{span:24}},[r("div",{staticClass:"item"},[r("div",{staticClass:"left"},[r("strong",[t._v(t._s(t.translateTitle("店铺总奖金池"))+"：")])]),r("div",{staticClass:"right"},[t._v(" "+t._s(t.pizzacount)+" "),r("img",{attrs:{src:t.piza}})])]),r("div",{staticClass:"placeholder"}),r("div",{staticClass:"item"},[r("div",{staticClass:"left"},[r("strong",[t._v(t._s(t.translateTitle("已发放的奖金"))+"：")])]),r("div",{staticClass:"right"},[t._v(" "+t._s(t.bonuspaid)+" "),r("img",{attrs:{src:t.piza}})])]),r("div",{staticClass:"placeholder"}),r("div",{staticClass:"item"},[r("div",{staticClass:"left"},[r("strong",[t._v(t._s(t.translateTitle("我的已领取奖金"))+"：")])]),r("div",{staticClass:"right"},[t._v(" "+t._s(t.discount)+" "),r("img",{attrs:{src:t.piza}})])]),r("div",{staticClass:"placeholder"}),r("div",{staticClass:"item"},[r("div",{staticClass:"left"},[r("strong",[t._v(t._s(t.translateTitle("我的可领取奖金"))+"：")])]),r("div",{staticClass:"right"},[t._v(" "+t._s(t.userbalance)+" "),r("img",{attrs:{src:t.piza}})])])])},n=[],i=r("79fa"),s={props:{pizzacount:{type:String,default:function(){return""}},bonuspaid:{type:String,default:function(){return""}},discount:{type:String,default:function(){return""}},userbalance:{type:String,default:function(){return""}}},data:function(){return{piza:r("ef1a")}},methods:{translateTitle:i["translateTitle"]}},c=s,u=(r("11aa"),r("2877")),l=Object(u["a"])(c,a,n,!1,null,"4e5a0abe",null);e["default"]=l.exports},"1b62":function(t,e,r){"use strict";r.r(e);var a=r("1da1"),n=r("5530"),i=(r("96cf"),r("d3b7"),r("a9e3"),r("c030")),s=r("2f62");e["default"]={name:"Game1",computed:Object(n["a"])({},Object(s["c"])({address:"connect/address",chainID:"connect/chainID"})),methods:{userbalance:function(){var t=this;return new Promise((function(e){if(!t.address||t.chainID!==t.runChainID)return e(0),!1;var r=new i["a"].providers.Web3Provider(window.ethereum),a=new i["a"].Contract(t.metamask.contractAddressPizza,t.metamask.contractAbiPizza,r);a.balanceOf(t.address).then(e).catch((function(){e(0)}))}))},allowance:function(t,e,r){return Object(a["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.t0=Number,a.next=3,t.allowance(e,r);case 3:return a.t1=a.sent,a.abrupt("return",(0,a.t0)(a.t1));case 5:case"end":return a.stop()}}),a)})))()},waitSuccessApprove:function(t,e,r,n){var i=this;return new Promise((function(s){var c=0,u=setInterval(Object(a["a"])(regeneratorRuntime.mark((function a(){var l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return c++,a.next=3,i.allowance(t,r,n);case 3:l=a.sent,l>=Number(e)?(clearInterval(u),s(!0)):c>60&&(s(!1),clearInterval(u));case 5:case"end":return a.stop()}}),a)}))),1e3)}))},approve:function(t){var e=this;return new Promise(function(){var r=Object(a["a"])(regeneratorRuntime.mark((function r(a){var n,s,c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.chainID===e.runChainID&&e.address||a(!1),n=new i["a"].providers.Web3Provider(window.ethereum),s=new i["a"].Contract(e.metamask.contractAddressPizza,e.metamask.contractAbiPizza,n),r.next=5,e.allowance(s,e.address,e.metamask.contractAddress);case 5:if(c=r.sent,!(c>=1e18*Number(t))){r.next=9;break}return a(!0),r.abrupt("return",!1);case 9:t+="000000000000000000",s.connect(n.getSigner()).approve(e.metamask.contractAddress,t+"000000000").then((function(){e.waitSuccessApprove(s,t,e.address,e.metamask.contractAddress).then(a)})).catch((function(){a(!1)}));case 11:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}())}}}},2385:function(t,e,r){"use strict";r("854d")},"2fec":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-col",{staticClass:"choices",attrs:{span:24}},[r("div",{staticClass:"item"},[r("div",{staticClass:"btn",on:{click:t.bullishBtcClick}},[t._v(" "+t._s(t.translateTitle("看涨BTC"))+" ")])]),r("div",{staticClass:"item"},[r("div",{staticClass:"btn",on:{click:t.PIZAClick}},[t._v(" "+t._s(t.translateTitle("收获PIZA"))+" "),r("img",{attrs:{src:t.piza}})])]),r("div",{staticClass:"item"},[r("div",{staticClass:"btn",on:{click:t.regulationClick}},[t._v(" "+t._s(t.translateTitle("游戏规则"))+" ")])]),r("div",{staticClass:"item"},[r("div",{staticClass:"btn",on:{click:t.bearishBtcClick}},[t._v(" "+t._s(t.translateTitle("看跌BTC"))+" ")])])])},n=[],i=r("79fa"),s={data:function(){return{piza:r("ef1a")}},methods:{translateTitle:i["translateTitle"],bullishBtcClick:function(){this.$emit("bullishBtcFn")},bearishBtcClick:function(){this.$emit("bearishBtcFn")},PIZAClick:function(){this.$emit("PIZAFn")},regulationClick:function(){this.$emit("regulationFn")}}},c=s,u=(r("a70f"),r("2877")),l=Object(u["a"])(c,a,n,!1,null,"2c08b196",null);e["default"]=l.exports},3119:function(t,e,r){},7998:function(t,e,r){"use strict";r.r(e),r.d(e,"getList",(function(){return n})),r.d(e,"getList1",(function(){return i})),r.d(e,"getTotal",(function(){return s})),r.d(e,"doAdd",(function(){return c})),r.d(e,"doVoteAdd",(function(){return u})),r.d(e,"doUpdata",(function(){return l})),r.d(e,"getSum",(function(){return o})),r.d(e,"getPrice",(function(){return d}));var a=r("b775");function n(t){return Object(a["default"])({url:"/list.php",method:"post",data:t})}function i(t){return Object(a["default"])({url:"/list1.php",method:"post",data:t})}function s(t){return Object(a["default"])({url:"/total.php",method:"post",data:t})}function c(t){return Object(a["default"])({url:"/add.php",method:"post",data:t})}function u(t){return Object(a["default"])({url:"/voteinfo.php",method:"post",data:t})}function l(t){return Object(a["default"])({url:"/updata.php",method:"post",data:t})}function o(t){return Object(a["default"])({url:"/sum.php",method:"post",data:t})}function d(){return Object(a["default"])({baseURL:"https://halfpizza.info:5000/",url:"/",method:"get"})}},"80f5":function(t,e,r){"use strict";r("c0e2")},"854d":function(t,e,r){},"88e6":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"game-container"},[r("el-row",{attrs:{gutter:10}},[r("heads",{attrs:{bonuspaid:t.bonuspaidValue,discount:t.getdiscountValue,pizzacount:t.pizzacountValue,userbalance:t.userbalanceValue}}),r("middles",{attrs:{announce1:t.announce1,"bearish-btc-prize-pool":t.bearishBtcPrizePool,"bearish-btc-total-number":t.bearishBtcTotalNumber,"benchmark-price1":t.benchmarkPrice1,"benchmark-price2":t.benchmarkPrice2,"bullish-btc-prize-pool":t.bullishBtcPrizePool,"bullish-btc-total-number":t.bullishBtcTotalNumber,deadline1:t.deadline1,deadline2:t.deadline2}}),r("choices",{on:{PIZAFn:t.PIZAFn,bearishBtcFn:t.bearishBtcFn,bullishBtcFn:t.bullishBtcFn,regulationFn:t.regulationFn}}),r("foots",{attrs:{average:t.average,"bearish-btc-prize-pool":t.bearishBtcPrizePool2,"bearish-btc-total-number":t.bearishBtcTotalNumber2,benchmark:t.benchmark,"bullish-btc-prize-pool":t.bullishBtcPrizePool2,"bullish-btc-total-number":t.bullishBtcTotalNumber2,lottery:t.lottery,price:t.price,"table-data1":t.tableData1,"table-data2":t.tableData2}})],1)],1)},n=[],i=r("1da1"),s=r("5530"),c=(r("a9e3"),r("fb6a"),r("d3b7"),r("3ca3"),r("ddb0"),r("25f0"),r("ac1f"),r("5319"),r("a15b"),r("b64b"),r("159b"),r("96cf"),r("79fa")),u=r("ed08"),l=r("18db"),o=r("e68e"),d=r("2fec"),m=r("d3a7"),b=r("2f62"),f=r("7998"),p=r("c030"),h=r("1b62"),g={name:"Game",components:{heads:l["default"],middles:o["default"],choices:d["default"],foots:m["default"]},mixins:[h["default"]],data:function(){return{pizzacountValue:"0",getdiscountValue:"0",bonuspaidValue:"0",userbalanceValue:"0",bullishBtcPrizePool:"0",bullishBtcTotalNumber:"0",bearishBtcPrizePool:"0",bearishBtcTotalNumber:"0",bullishBtcPrizePool2:"0",bullishBtcTotalNumber2:"0",bearishBtcPrizePool2:"0",bearishBtcTotalNumber2:"0",average:"0",deadline1:"--:--",deadline2:"--:--",announce1:"0",benchmarkPrice1:"0",benchmarkPrice2:"0",tableData1:[],tableData2:[],bullishBtc:"",timer:"",lottery:"0",benchmark:"0",price:"0",timeIndex:0}},computed:Object(s["a"])({},Object(b["c"])({metamask:"settings/metamask",refer:"connect/refer"})),mounted:function(){var t=this,e=this.$baseLoading(3);setTimeout(Object(i["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.running();case 2:t.getTime(),t.timer=setInterval((function(){t.getTime(),t.running()}),1e3),e.close();case 5:case"end":return r.stop()}}),r)}))),1200)},beforeDestroy:function(){this.timer&&clearInterval(this.timer)},methods:{getWei:function(t){if(t>0){var e=String(t);return Number(e.slice(0,-18))}return 0},getTime:function(){var t=parseInt((new Date).getTime()/1e3),e=t%600;this.deadline2=this.timeFormat(599-e);var r=179-e;this.deadline1=r<=0?"开奖中":this.timeFormat(r)},timeFormat:function(t){t<0&&(t=0);var e=parseInt(t/60),r=parseInt(t%60);return(e>9?e:"0"+e)+":"+(r>9?r:"0"+r)},translateTitle:c["translateTitle"],running:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var r,a,n,i,s,c,l,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t,a=(new Date).getTime(),n=parseInt(a/1e3),r.timeIndex%10!==0){e.next=23;break}return r.timeIndex=1,i=new Date,e.next=8,Promise.all([r.pizzacount(),r.getallWithdraw(),r.getPrice(),r.getList(),r.getinvestresult(n),r.getTwoTimeList(i),r.getinvestresult(n-600),r.getaverage(n-600),r.mywethdrawn(),r.getuserbalance(),r.mydepots()]);case 8:s=e.sent,r.pizzacountValue=s[0],r.bonuspaidValue=s[1],s[2]&&s[2].json&&(t.benchmarkPrice2=Object(u["formatDecimal"])(s[2].json[0].price,4)),c=s[3]?s[3].date:[],c&&c.length&&(r.benchmarkPrice1=c[0].endprice,r.announce1=c[0].startprice,r.price=c[0].endprice||0,r.benchmark=c[0].startprice||0),l=s[4],l&&l.length&&(r.bullishBtcPrizePool=String(r.getWei(l[0])),r.bullishBtcTotalNumber=String(l[1]),r.bearishBtcPrizePool=String(r.getWei(l[2])),r.bearishBtcTotalNumber=String(l[3])),r.tableData2=s[5],o=s[6],o&&o.length&&(r.bullishBtcPrizePool2=String(r.getWei(o[0])),r.bullishBtcTotalNumber2=String(o[1]),r.bearishBtcPrizePool2=String(r.getWei(o[2])),r.bearishBtcTotalNumber2=String(o[3]),r.lottery=o[4]?"1":"0"),r.average=String(s[7]),r.getdiscountValue=s[8],r.userbalanceValue=s[9],r.tableData1=s[10];case 23:return r.timeIndex++,e.abrupt("return",!0);case 25:case"end":return e.stop()}}),e)})))()},pizzacount:function(){var t=this;return new Promise((function(e){if(t.chainID!==t.runChainID)return e("0"),!1;var r=new p["a"].providers.Web3Provider(window.ethereum),a=new p["a"].Contract(t.metamask.contractAddress,t.metamask.contractAbi,r);a.getpizzacount().then((function(t){e(String(t))})).catch((function(){e("0")}))}))},getallWithdraw:function(){var t=this;return new Promise((function(e){if(t.chainID!==t.runChainID)return e("0"),!1;var r=new p["a"].providers.Web3Provider(window.ethereum),a=new p["a"].Contract(t.metamask.contractAddress,t.metamask.contractAbi,r);a.getallWithdraw().then((function(t){e(String(t))})).catch((function(){e("0")}))}))},getPrice:function(){return new Promise((function(t){Object(f["getPrice"])().then(t).catch((function(){t(!1)}))}))},getList:function(){return new Promise((function(t){Object(f["getList"])({tab_name:"btcprice",cont:"ORDER BY endtime DESC LIMIT 1"}).then(t).catch((function(){t(!1)}))}))},getinvestresult:function(t){var e=this;return new Promise((function(r){if(e.chainID!==e.runChainID)return r([]),!1;var a=new p["a"].providers.Web3Provider(window.ethereum),n=new p["a"].Contract(e.metamask.contractAddress,e.metamask.contractAbi,a);n.getinvestresult(t).then((function(t){r(t)})).catch((function(){r([])}))}))},getdiscount:function(){var t=this;return new Promise((function(e){if(t.chainID!==t.runChainID)return e("0"),!1;var r=new p["a"].providers.Web3Provider(window.ethereum),a=new p["a"].Contract(t.metamask.contractAddress,t.metamask.contractAbi,r);a.getdiscount().then((function(t){e(String(t))})).catch((function(){e("0")}))}))},getuserbalance:function(){var t=this;return new Promise((function(e){if(t.chainID!==t.runChainID||!t.address)return e("0"),!1;var r=new p["a"].providers.Web3Provider(window.ethereum),a=new p["a"].Contract(t.metamask.contractAddress,t.metamask.contractAbi,r);a.getinvestbalance(t.address).then((function(t){e(String(t))})).catch((function(){e("0")}))}))},userwithdraw:function(){var t=this;return new Promise((function(e){if(t.chainID!==t.runChainID||!t.address)return e(!1),!1;var r=new p["a"].providers.Web3Provider(window.ethereum),a=new p["a"].Contract(t.metamask.contractAddress,t.metamask.contractAbi,r);a.connect(r.getSigner()).userwithdraw().then((function(){e(!0)})).catch((function(){e(!1)}))}))},mywethdrawn:function(){var t=this;return new Promise((function(e){if(t.chainID!==t.runChainID||!t.address)return e("0"),!1;var r=new p["a"].providers.Web3Provider(window.ethereum),a=new p["a"].Contract(t.metamask.contractAddress,t.metamask.contractAbi,r);a.mywethdrawn(t.address).then((function(t){e(String(t))})).catch((function(){e("0")}))}))},PIZAFn:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.address){e.next=3;break}return t.$message.warning(t.translateTitle("mustConnectWallet")),e.abrupt("return",!1);case 3:if(t.chainID===t.runChainID){e.next=6;break}return t.$message.warning(t.translateTitle("changeBsc")),e.abrupt("return",!1);case 6:if(!(t.userbalanceValue>0)){e.next=20;break}return r=t.$baseLoading(1,"pizza transaction pending confirmation..."),e.next=10,t.userwithdraw();case 10:if(a=e.sent,r.close(),!a){e.next=16;break}t.$message.success(t.translateTitle("取出成功")+"！"),e.next=18;break;case 16:return t.$message.error("withdraw fail,please wait for moment to try"),e.abrupt("return",!1);case 18:e.next=22;break;case 20:return t.$message.warning(t.translateTitle("暂时无法提取")+"！"),e.abrupt("return",!1);case 22:case"end":return e.stop()}}),e)})))()},regulationFn:function(){this.$alert(this.translateTitle("regulation"),{confirmButtonText:this.translateTitle("确定"),customClass:"messagealert",showClose:!1,dangerouslyUseHTMLString:!0})},startisok:function(){var t=this;return new Promise((function(e){var r=new p["a"].providers.Web3Provider(window.ethereum),a=new p["a"].Contract(t.metamask.contractAddress,t.metamask.contractAbi,r);a.startisok().then((function(t){e(t)})).catch((function(){e(!1)}))}))},prompt:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a="",n=!0,r.next=4,e.$prompt(e.translateTitle("请输入投注数量"),e.translateTitle(t),{confirmButtonText:e.translateTitle("确定"),cancelButtonText:e.translateTitle("取消"),inputPattern:/^((0{1}\.\d{1,2})|([1-9]\d*\.{1}\d{1,2})|([1-9]+\d*)|0)$/,inputErrorMessage:e.translateTitle("投注数量格式不正确")}).then((function(t){var e=t.value;a=e})).catch((function(){n=!1}));case 4:if(!n){r.next=20;break}if(!(a<1e3)){r.next=8;break}return e.$message({type:"info",message:e.translateTitle("请投注1000以上的pizza")}),r.abrupt("return",!1);case 8:return r.next=10,e.startisok();case 10:if(r.sent){r.next=13;break}return e.$message({type:"info",message:e.translateTitle("游戏尚未开始")}),r.abrupt("return",!1);case 13:return r.t0=1e18*a,r.next=16,e.userbalance();case 16:if(r.t1=r.sent,!(r.t0>r.t1)){r.next=20;break}return e.$message({type:"info",message:e.translateTitle("可用余额不足")}),r.abrupt("return",!1);case 20:return r.abrupt("return",a);case 21:case"end":return r.stop()}}),r)})))()},bullishBtcFn:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var r,a,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.address){e.next=3;break}return t.$message.warning(t.translateTitle("mustConnectWallet")),e.abrupt("return",!1);case 3:if(t.chainID===t.runChainID){e.next=6;break}return t.$message.warning(t.translateTitle("changeBsc")),e.abrupt("return",!1);case 6:return e.next=8,t.prompt("看涨BTC");case 8:if(r=e.sent,!r){e.next=29;break}return a=t.$baseLoading(3,"betting..."),e.next=13,t.approve(r.toString());case 13:if(n=e.sent,n){e.next=18;break}return t.$message.warning("pledge fail ,try approve fail"),a.close(),e.abrupt("return",!1);case 18:return e.next=20,t.invest(r.toString(),1);case 20:if(i=e.sent,!i){e.next=25;break}t.$alert(t.translateTitle("投注成功")+"！",{confirmButtonText:t.translateTitle("确定"),customClass:"messagealert",showClose:!1}),e.next=27;break;case 25:return t.$message.warning("pledge fail"),e.abrupt("return",!1);case 27:return a.close(),e.abrupt("return",!1);case 29:case"end":return e.stop()}}),e)})))()},bearishBtcFn:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var r,a,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.address){e.next=3;break}return t.$message.warning(t.translateTitle("mustConnectWallet")),e.abrupt("return",!1);case 3:if(t.chainID===t.runChainID){e.next=6;break}return t.$message.warning(t.translateTitle("changeBsc")),e.abrupt("return",!1);case 6:return e.next=8,t.prompt("看跌BTC");case 8:if(r=e.sent,!r){e.next=29;break}return a=t.$baseLoading(3,"betting..."),e.next=13,t.approve(r.toString());case 13:if(n=e.sent,n){e.next=18;break}return t.$message.warning("pledge fail ,try approve fail"),a.close(),e.abrupt("return",!1);case 18:return e.next=20,t.invest(r.toString(),2);case 20:if(i=e.sent,!i){e.next=25;break}t.$alert(t.translateTitle("投注成功")+"！",{confirmButtonText:t.translateTitle("确定"),customClass:"messagealert",showClose:!1}),e.next=27;break;case 25:return t.$message.warning("pledge fail"),e.abrupt("return",!1);case 27:return a.close(),e.abrupt("return",!1);case 29:case"end":return e.stop()}}),e)})))()},invest:function(t,e){var r=this,a=this.refer;return p["a"].utils.isAddress(a)||(a=this.address),new Promise((function(n){var i=new p["a"].providers.Web3Provider(window.ethereum),s=new p["a"].Contract(r.metamask.contractAddress,r.metamask.contractAbi,i);s.connect(i.getSigner()).invest(a,e,t).then((function(){n(!0)})).catch((function(){n(!1)}))}))},getTwoTimeList:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,n,i,s,c,l,o,d,m,b;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:a=t.getTime()-6e5,n=new Date(a-72e5),i=Math.round(n.getTime()/1e3),s=Math.round(a/1e3),c=[],l=i;case 6:if(!(l<=s)){r.next=17;break}return o=Object(u["parseTime"])(l,"{y}-{m}-{d} {h}:"+parseInt(Object(u["parseTime"])(l,"{i}")/10)+"0"),o=o.replace(/-/g,"/"),d=new Date(o).getTime()/1e3,r.next=12,e.getinvestresult(Math.round(d));case 12:m=r.sent,m&&m.length&&(b=parseInt(m[1])+parseInt(m[3]),c.push({date:parseInt((d-1628503200)/600),result:"1"==m[4]?"涨":"跌",capital:e.getWei(m[0])+e.getWei(m[2]),people:b||0}));case 14:l+=600,r.next=6;break;case 17:return r.abrupt("return",c.reverse());case 18:case"end":return r.stop()}}),r)})))()},getaverage:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise((function(r){if(e.chainID!==e.runChainID||!e.address)return r("0"),!1;var a=new p["a"].providers.Web3Provider(window.ethereum),n=new p["a"].Contract(e.metamask.contractAddress,e.metamask.contractAbi,a);n.getaverage(t).then((function(t){r(String(t))})).catch((function(){r("0")}))})));case 1:case"end":return r.stop()}}),r)})))()},mydepots:function(){var t=this;return new Promise((function(e){if(t.chainID!==t.runChainID||!t.address)return e([]),!1;var r=new p["a"].providers.Web3Provider(window.ethereum),a=new p["a"].Contract(t.metamask.contractAddress,t.metamask.contractAbi,r);a.getmyicount(t.address).then(function(){var r=Object(i["a"])(regeneratorRuntime.mark((function r(n){var i,c,u,l,o,d,m,b,p,h,g,v,w,T,_,k;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(i=n.length,i){r.next=4;break}return e([]),r.abrupt("return",!1);case 4:for(c=[],u=[],l={},o=0;o<100;o++)d=i-1-o,d>=0&&(u[d]=Number(n[d]),l[n[d]]=!0);return r.next=8,Object(f["getList"])({tab_name:"btcprice",cont:" where (endtime-1628503200)/600 in ("+Object.keys(l).join(",")+") OR (starttime-1628503200)/600 in ("+Object.keys(l).join(",")+")"});case 8:m=r.sent,b=m.date,p={},(b||[]).forEach((function(t){var e=parseInt(t.endtime-1628503200)/600;p[e]=t})),h=0;case 13:if(!(i--&&h<50)){r.next=23;break}return r.next=16,a.mydepots(t.address,i);case 16:g=r.sent,v=Number(g[2]),w=u[i],T=Number(g[0]),T>0&&(h++,_={endprice:0,endtime:"",startprice:0,starttime:""},p[w]&&(_.starttime=p[w]["endtime"],_.startprice=p[w]["endprice"]),p[w+1]&&(_=p[w+1]),g[4]||(_["endprice"]=0,_["endtime"]=0),k=Object(s["a"])({index:w,type:g[3]?"看涨":"看跌",invest:T,win:g[4]?(g[1]?"":"-")+v:"未开奖"},_),c.push(k)),r.next=13;break;case 23:e(c);case 24:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}()).catch((function(){e([])}))}))},getNowFormatDate:function(t){var e="-",r=":",a=parseInt("10"),n=60*a*1e3;n=parseInt(n),t=new Date(Date.parse(t)-n);var i=t.getMonth()+1,s=t.getDate(),c=t.getHours();a=t.getMinutes(),i>=1&&i<=9&&(i="0"+i),s>=0&&s<=9&&(s="0"+s),c>=0&&c<=9&&(c="0"+c),a>=0&&a<=9&&(a="0"+a);var u=t.getFullYear()+e+i+e+s+" "+c+r+a+r+t.getSeconds();return u}}},v=g,w=(r("fad2"),r("2877")),T=Object(w["a"])(v,a,n,!1,null,"d865a754",null);e["default"]=T.exports},a70f:function(t,e,r){"use strict";r("03a7")},ab1a:function(t,e,r){t.exports={"menu-color":"rgba(255,255,255,.95)","menu-color-active":"rgba(255,255,255,.95)","menu-background":"#282c34","column-second-menu-background":"#fff"}},b775:function(t,e,r){"use strict";r.r(e);var a,n=r("1da1"),i=r("2909"),s=(r("96cf"),r("99af"),r("caad"),r("2532"),r("d3b7"),r("a026")),c=r("bc3a"),u=r.n(c),l=r("f121"),o=r("4360"),d=r("4328"),m=r.n(d),b=r("a18c"),f=r("61f7"),p=r("0a48"),h=Object(f["isArray"])(l["successCode"])?Object(i["a"])(l["successCode"]):[l["successCode"]].concat(),g={200:"服务器成功返回请求数据",201:"新建或修改数据成功",202:"一个请求已经进入后台排队(异步任务)",204:"删除数据成功",400:"发出信息有误",401:"用户没有权限(令牌失效、用户名、密码错误、登录过期)",402:"令牌过期",403:"用户得到授权，但是访问是被禁止的",404:"访问资源不存在",406:"请求格式不可得",410:"请求资源被永久删除，且不会被看到",500:"服务器发生错误",502:"网关错误",503:"服务不可用，服务器暂时过载或维护",504:"网关超时"},v=function(t){return t.data&&"application/x-www-form-urlencoded;charset=UTF-8"===t.headers["Content-Type"]&&(t.data=m.a.stringify(t.data)),l["debounce"].some((function(e){return t.url.includes(e)}))&&(a=s["default"].prototype.$baseLoading()),t},w=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var r,n,i,c,u,d,m;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=e.config,n=e.data,i=e.status,c=e.statusText,a&&a.close(),u=n&&n[l["statusName"]]?n[l["statusName"]]:i,h.indexOf(n[l["statusName"]])+1&&(u=200),t.t0=u,t.next=200===t.t0?7:403===t.t0?8:10;break;case 7:return t.abrupt("return",n);case 8:return b["default"].push({path:"/403"}).then((function(){})),t.abrupt("break",10);case 10:return d="".concat(r.url," 后端接口 ").concat(u," 异常：").concat(n&&n[l["messageName"]]?n[l["messageName"]]:g[u]?g[u]:c),s["default"].prototype.$baseMessage(d,"error","vab-hey-message-error"),m=new Error(d),Object(p["checkNeed"])()&&o["default"].dispatch("errorLog/addErrorLog",{err:m,url:r.url}).then((function(){})),t.abrupt("return",Promise.reject(m));case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),T=u.a.create({baseURL:l["baseURL"],timeout:l["requestTimeout"],headers:{"Content-Type":l["contentType"]}});T.interceptors.request.use(v,(function(t){return Promise.reject(t)})),T.interceptors.response.use((function(t){return w(t)}),(function(t){var e=t.response;return void 0===e?(s["default"].prototype.$baseMessage("未可知错误，大部分是由于后端不支持跨域CORS或无效配置引起","error","vab-hey-message-error"),{}):w(e)})),e["default"]=T},c0e2:function(t,e,r){},d3a7:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-col",{staticClass:"foots",attrs:{span:24}},[r("div",{staticClass:"tab"},[r("section",[r("input",{attrs:{id:"a1",checked:"checked",name:"grp",type:"radio"}}),r("label",{attrs:{for:"a1"}},[t._v(t._s(t.translateTitle("我的投注")))]),r("div",{staticClass:"vabchart"},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData1,stripe:""}},[r("el-table-column",{attrs:{align:"center","header-align":"center",label:t.translateTitle("投注期数"),prop:"index",width:"140"}}),r("el-table-column",{attrs:{align:"center","header-align":"center",label:t.translateTitle("投注方向")},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.translateTitle(e.row.type))+" ")]}}])}),r("el-table-column",{attrs:{align:"center","header-align":"center",label:t.translateTitle("投注数额"),prop:"invest"}}),r("el-table-column",{attrs:{align:"center","header-align":"center",label:t.translateTitle("盈亏")},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.translateTitle(e.row.win))+" ")]}}])}),r("el-table-column",{attrs:{align:"center","header-align":"center",label:t.translateTitle("当期基准价"),prop:"startprice",width:"120"}}),r("el-table-column",{attrs:{align:"center","header-align":"center",label:t.translateTitle("当期开奖价"),prop:"endprice"}})],1)],1),r("input",{attrs:{id:"a2",name:"grp",type:"radio"}}),r("label",{attrs:{for:"a2"}},[t._v(t._s(t.translateTitle("上期结果")))]),r("div",{staticClass:"vabchart"},[r("div",{staticClass:"gridresult"},[r("div",{staticClass:"item"},[r("div",{staticClass:"that"},[r("dl",[r("dt",[t._v(t._s(t.translateTitle("看涨资金池"))+"：")]),r("dd",[t._v(t._s(t.bullishBtcPrizePool))])]),r("dl",[r("dt",[t._v(t._s(t.translateTitle("看涨人数"))+"：")]),r("dd",[t._v(t._s(t.bullishBtcTotalNumber))])]),r("dl",[r("dt",[t._v(t._s(t.translateTitle("开奖结果"))+"：")]),r("dd",[t._v(t._s(t.translateTitle(1==t.lottery?"涨":"跌")))])]),r("dl",[r("dt",[t._v(t._s(t.translateTitle("上期基准价"))+"：")]),r("dd",[t._v(t._s(t.benchmark))])])])]),r("div",{staticClass:"item"}),r("div",{staticClass:"item"},[r("div",{staticClass:"that"},[r("dl",[r("dt",[t._v(t._s(t.translateTitle("看跌资金池"))+"：")]),r("dd",[t._v(t._s(t.bearishBtcPrizePool))])]),r("dl",[r("dt",[t._v(t._s(t.translateTitle("看跌人数"))+"：")]),r("dd",[t._v(t._s(t.bearishBtcTotalNumber))])]),r("dl",[r("dt",[t._v(t._s(t.translateTitle("获胜方人均奖励"))+"：")]),r("dd",[t._v(t._s(t.average))])]),r("dl",[r("dt",[t._v(t._s(t.translateTitle("上期开奖价"))+"：")]),r("dd",[t._v(t._s(t.price))])])])])])]),r("input",{attrs:{id:"a3",name:"grp",type:"radio"}}),r("label",{staticClass:"a3",attrs:{for:"a3"}},[t._v(t._s(t.translateTitle("历史记录")))]),r("div",{staticClass:"vabchart"},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData2,stripe:""}},[r("el-table-column",{attrs:{align:"center","header-align":"center",label:t.translateTitle("期数"),prop:"date",width:"140"}}),r("el-table-column",{attrs:{align:"center","header-align":"center",label:t.translateTitle("结果")},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.translateTitle(e.row.result))+" ")]}}])}),r("el-table-column",{attrs:{align:"center","header-align":"center",label:t.translateTitle("资金池"),prop:"capital"}}),r("el-table-column",{attrs:{align:"center","header-align":"center",label:t.translateTitle("人数"),prop:"people"}})],1)],1)])])])},n=[],i=r("79fa"),s={props:{bullishBtcPrizePool:{type:String,default:function(){return""}},bullishBtcTotalNumber:{type:String,default:function(){return""}},bearishBtcPrizePool:{type:String,default:function(){return""}},bearishBtcTotalNumber:{type:String,default:function(){return""}},average:{type:String,default:function(){return""}},lottery:{type:String,default:function(){return""}},benchmark:{type:String,default:function(){return""}},price:{type:String,default:function(){return""}},tableData1:{type:Array,default:function(){return[]}},tableData2:{type:Array,default:function(){return[]}}},data:function(){return{}},methods:{translateTitle:i["translateTitle"]}},c=s,u=(r("2385"),r("2877")),l=Object(u["a"])(c,a,n,!1,null,"753f12c8",null);e["default"]=l.exports},e68e:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-col",{staticClass:"middles",attrs:{span:24}},[r("div",{staticClass:"grid"},[r("div",{staticClass:"item"},[r("div",{staticClass:"left"},[r("div",{staticClass:"upper"},[r("p",[r("strong",[t._v(t._s(t.translateTitle("看涨BTC奖金池")))]),r("img",{attrs:{src:t.piza}})]),r("p",[t._v(t._s(t.bullishBtcPrizePool))])]),r("div",{staticClass:"lower"},[r("p",[r("strong",[t._v(t._s(t.translateTitle("看涨BTC总人数")))])]),r("p",[t._v(t._s(t.bullishBtcTotalNumber))])])])]),r("div",{staticClass:"item"},[r("div",{staticClass:"list"},[r("dl",[r("dt",[t._v(t._s(t.translateTitle("当期投注倒计时")))]),r("dd",[t._v(t._s(t.translateTitle(t.deadline1)))])]),r("hr"),r("dl",[r("dt",[t._v(t._s(t.translateTitle("当期基准价")))]),r("dd",[t._v(t._s(t.benchmarkPrice1))])]),r("hr"),r("dl",[r("dt",[t._v(t._s(t.translateTitle("上期基准价")))]),r("dd",[t._v(t._s(t.announce1))])])]),r("div",{staticClass:"list"},[r("dl",[r("dt",[t._v(t._s(t.translateTitle("当期揭晓倒计时")))]),r("dd",[t._v(t._s(t.deadline2))])]),r("hr"),r("dl",[r("dt",[t._v(t._s(t.translateTitle("BTC实时价")))]),r("dd",[t._v(t._s(t.benchmarkPrice2))])]),r("hr"),r("dl",[r("dt",[t._v(t._s(t.translateTitle("上期开奖价")))]),r("dd",[t._v(t._s(t.benchmarkPrice1))])])])]),r("div",{staticClass:"item"},[r("div",{staticClass:"right"},[r("div",{staticClass:"upper"},[r("p",[r("strong",[t._v(t._s(t.translateTitle("看跌BTC奖金池")))]),r("img",{attrs:{src:t.piza}})]),r("p",[t._v(t._s(t.bearishBtcPrizePool))])]),r("div",{staticClass:"lower"},[r("p",[r("strong",[t._v(t._s(t.translateTitle("看跌BTC总人数")))])]),r("p",[t._v(t._s(t.bearishBtcTotalNumber))])])])])])])},n=[],i=r("79fa"),s={props:{bullishBtcPrizePool:{type:String,default:function(){return""}},bullishBtcTotalNumber:{type:String,default:function(){return""}},bearishBtcPrizePool:{type:String,default:function(){return""}},bearishBtcTotalNumber:{type:String,default:function(){return""}},deadline1:{type:String,default:function(){return""}},announce1:{type:String,default:function(){return""}},benchmarkPrice1:{type:String,default:function(){return""}},deadline2:{type:String,default:function(){return""}},benchmarkPrice2:{type:String,default:function(){return""}}},data:function(){return{piza:r("ef1a")}},methods:{translateTitle:i["translateTitle"]}},c=s,u=(r("80f5"),r("2877")),l=Object(u["a"])(c,a,n,!1,null,"b2fabb34",null);e["default"]=l.exports},ef1a:function(t,e,r){t.exports=r.p+"static/img/piza.ad7091fb.png"},fad2:function(t,e,r){"use strict";r("ab1a")}}]);